
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Reference Chunks</title>
  <meta name="author" content="Dan Fehrenbach">

  
  <meta name="description" content="if you&#8217;ve setup port forwarding but you cannot see the content that the flask server is supposedly serving on port 5000, even though ports like &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://dnfehren.github.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Reference Chunks" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Reference Chunks</a></h1>
  
    <h2>Programming and data notes</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:dnfehren.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/20/use-python-flask-server-through-nat-virtualbox-guest/">Forward Flask Server Through NAT Virtualbox Guest</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-20T12:00:00-05:00" pubdate data-updated="true">Jul 20<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>if you&#8217;ve setup port forwarding but you cannot see the content that the flask server is supposedly serving on port 5000, even though ports like 80 or 22 are working it might be because (as outlined in the docs) flask, by default, serves only on the localhost.</p>

<h3>Check that ports are set up</h3>

<p>Make sure that you&#8217;ve set up the portforwarding appropriately on the host&#8230;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>VBoxManage.exe modifyvm "VMnameInQuotes" --natpf1 "guestFlask,tcp,,5555,,5000"</span></code></pre></td></tr></table></div></figure>


<p>Check the ports on the guest
Check&#8230;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>netstat -nao</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>or&#8230;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>netstat -nao | grep 5000</span></code></pre></td></tr></table></div></figure>


<p>While the server is running and you should see a line like this&#8230;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>tcp        0      0 127.0.0.1:5000          0.0.0.0:*               LISTEN      off (0.00/0/0)</span></code></pre></td></tr></table></div></figure>


<h3>Change the flask files</h3>

<p>To be able to load the app on that port in your host machine&#8230;</p>

<p>Stop the server with Ctrl-C.</p>

<p>then change your</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>to</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">&quot;0.0.0.0&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>and restart the server</p>

<p>netstat should now show</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">tcp</span>        <span class="mi">0</span>      <span class="mi">0</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="p">:</span><span class="mi">5000</span>            <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="p">:</span><span class="o">*</span>               <span class="n">LISTEN</span>      <span class="n">off</span> <span class="p">(</span><span class="mf">0.00</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>and you should be able to access the guest server from the host using localhost:5555 (or whatever other port you forwarded it to)</p>

<p>References
https://groups.google.com/forum/?fromgroups#!topic/utahpython/RFFdwBVKWz0
http://flask.pocoo.org/docs/quickstart/#a-minimal-application</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/20/mysql-reset-root-passwords/">Mysql Reset Root Passwords</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-20T00:00:00-05:00" pubdate data-updated="true">Jul 20<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div>
  <pre><code class='bash'>user$sudo service mysql stop

user$sudo -u mysql -s

mysql$mysqld --skip-grant-tables --skip-networking

mysql&gt;UPDATE mysql.user SET Password=PASSWORD('something') WHERE User='someone'

mysql&gt;FLUSH PRIVILEGES

mysql&gt;exit;

mysql$exit

user$sudo kill 'mysql process'

user$sudo service mysql restart# How does it work?</code></pre>
</div>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/12/mysql-get-all-table-row-counts/">Mysql Get All Table Row Counts</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-12T00:00:00-05:00" pubdate data-updated="true">May 12<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Command line mysql for row counts for all tables in a database</h2>

<p>NB count is approximate for innodb tables</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">SELECT</span> <span class="k">table_name</span><span class="p">,</span> <span class="n">TABLE_ROWS</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">TABLES</span> <span class="k">WHERE</span> <span class="n">TABLE_SCHEMA</span> <span class="o">=</span> <span class="s1">&#39;{your_db}&#39;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/20/changing-linux-terminal-highlighting-for-file-types/">Changing Linux Terminal Highlighting for File Types</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-20T00:00:00-05:00" pubdate data-updated="true">Mar 20<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Included file &#8216;JB/setup&#8217; not found in _includes directory</p>

<h2>Alter colors for file types in linux terminal</h2>

<p>The blue on green highlighting that results in a default debian color scheme when it is displaying VirtualBox Shared folders is hard to read.</p>

<p>To change it you need to create a new .dircolors file in ~/ by using dircolors -p > ~./dircolors.</p>

<p>Then edit the color specifications for OTHER_WRITEABLE (non-sticky) to something more suitable.</p>

<p>The man page says a ~/.dir_colors file will be recognized and used but the cruchbang (and maybe debian) .bashrc looks for a ~/.dircolors file intead. Change the color file name or edit the .bashrc to make it work.</p>

<p>I use a white text with a blue background for the directories, which looks like</p>

<p>OTHER_WRITEABLE 37;44</p>

<p>source .bashrc when you&#8217;re done editing.</p>

<p><a href="http://askubuntu.com/questions/17299/color-meanings-in-terminal">Explanation at Ask Ubuntu</a><br/>
<a href="http://forums.debian.net/viewtopic.php?t=11773">Debian User Forum Example</a><br/>
<a href="http://linux.die.net/man/5/dir_colors">dircolors man page</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/28/get-decimal-results-in-python-division/">Get Decimal Results in Python Division</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-28T00:00:00-06:00" pubdate data-updated="true">Feb 28<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Included file &#8216;JB/setup&#8217; not found in _includes directory</p>

<p>Use float() to get decimal answers to division fuctions in python</p>

<div>
  <pre><code class='python'>some_data_value = 100
1 / float(some_data_value) #returns 0.01
1 / 100.0 #also returns 0.01
float(1/100) #returns 0.0, which is a float, but might not be what you wanted</code></pre>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/24/debian-rc-local-example-for-automounting-virtualbox-shared-folders/">Debian Rc Local Example for Automounting Virtualbox Shared Folders</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-24T00:00:00-06:00" pubdate data-updated="true">Feb 24<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Included file &#8216;JB/setup&#8217; not found in _includes directory</p>

<h2>Automatically mounting virtuabox shared folders when the guest starts, with read and write permissions</h2>

<p>Add this to your /etc/rc.local for each directory you want to have automatically available</p>

<p> mount.vboxsf -w -o fmode=0777,dmode=0777 proj /home/dnfehren/projects</p>

<h3>Reference</h3>

<p><a href="http://ubuntuforums.org/showthread.php?t=974627&amp;page=2">Ubuntu Forums</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/23/rake-on-crunchbang/">Rake on Crunchbang</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-23T00:00:00-06:00" pubdate data-updated="true">Feb 23<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Included file &#8216;JB/setup&#8217; not found in _includes directory</p>

<p>I don&#8217;t plan to do a lot with Ruby right now so to get it working on my Crunchbang install I used&#8230;</p>

<p>sudo apt-get install rubygems rake</p>

<p>This might change in the future when I need better controll over the ruby environment but I dont want to deal with it now.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/23/clamscan-has-no-log-file-by-default/">Clamscan Has No Log File by Default</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-23T00:00:00-06:00" pubdate data-updated="true">Feb 23<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Included file &#8216;JB/setup&#8217; not found in _includes directory</p>

<p>clamwin&#8217;s clamscan command line tool reports all results on stdout, this will probably result in a list too long for finding infected files when it is complete.</p>

<p>using the -i option will only print infected files to stdout.
using the -l [FILE] option will write a log to the specified file.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/01/access-properties-of-r-crosstable/">Access Properties of R Crosstable</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-01T00:00:00-06:00" pubdate data-updated="true">Feb 1<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Included file &#8216;JB/setup&#8217; not found in _includes directory</p>

<h2>Accessing properties of CrossTable</h2>

<pre><code>conv_cross &amp;lt;- CrossTable(data_set$col1, data_set$col2)
conv_table &amp;lt;- conv_cross$prop.row
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/21/start-or-stop-mysql-on-debian/">Start or Stop Mysql on Debian</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-21T00:00:00-06:00" pubdate data-updated="true">Jan 21<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Included file &#8216;JB/setup&#8217; not found in _includes directory</p>

<h2>If you can&#8217;t use init.d to stop/start/restart mysql server on Debian</h2>

<p>Debian (or CrunchBang) repository installs of mysql create a debian-sys-maint user that is used to startup and shutdown the database server via the /etc/init.d/mysql script. If you import all databases from another server, including the mysql database, this will be overwritten and init.d won&#8217;t work. So either don&#8217;t import the users table or add the debian-sys-maint users back in at the end, the user should have SHUTDOWN and SELECT privileges but doesn&#8217;t need others.</p>

<p><a href="http://dev.mysql.com/doc/refman/5.0/en/resetting-permissions.html#resetting-permissions-unix">http://dev.mysql.com/doc/refman/5.0/en/resetting-permissions.html#resetting-permissions-unix</a></p>

<p><a href="http://www.linuxquestions.org/questions/linux-software-2/mysql-debian-sys-maint-password-changed-by-accident-possible-to-change-it-back-216586/">mysql: debian-sys-maint password changed by accident, possible to change it back?</a></p>

<p><a href="http://serverfault.com/questions/32692/cant-start-stop-mysql-service">http://serverfault.com/questions/32692/cant-start-stop-mysql-service</a></p>

<p><a href="http://www.debian-administration.org/articles/442">http://www.debian-administration.org/articles/442</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/07/20/use-python-flask-server-through-nat-virtualbox-guest/">Forward flask server through NAT virtualbox guest</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/20/mysql-reset-root-passwords/">Mysql Reset Root Passwords</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/05/12/mysql-get-all-table-row-counts/">Mysql Get All Table Row Counts</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/20/changing-linux-terminal-highlighting-for-file-types/">Changing Linux Terminal Highlighting For File Types</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/02/28/get-decimal-results-in-python-division/">Get Decimal Results In Python Division</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Dan Fehrenbach -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
